<html>

<head>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"
    integrity="sha512-dqw6X88iGgZlTsONxZK9ePmJEFrmHwpuMrsUChjAw1mRUhUITE5QU9pkcSox+ynfLhL15Sv2al5A0LVyDCmtUw=="
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
    integrity="sha512-8bHTC73gkZ7rZ7vpqUQThUDhqcNFyYi2xgDgPDHc+GXVGHXq+xPjynxIopALmOPqzo9JZj0k6OqqewdGO3EsrQ=="
    crossorigin="anonymous" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
  <!-- Google Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" rel="stylesheet">
  <!-- JQuery -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script>
  <style>
    html,
    body {
      background-color: #222C32;
      height: 100%;
      font-family: 'Open Sans', sans-serif;
      box-sizing: border-box;
    }
    .speech-bubble {
      position: relative;
      background: #00aabb;
      border-radius: .4em;
      height: 36px;
      padding-top: 2%;
      padding-left: 4%;
      width: 72%;
    }
  </style>
</head>
<body>
  <div style="position: absolute;top: 91%;left: 42%;z-index: 10;">
  <a type="button" data-toggle="modal" data-target="#fullHeightModalRight">
    <img src="{{url_for('static', filename='images/logo.png')}}" style="width:22%;">
  </a>
</div>
  <div class="modal fade right" id="fullHeightModalRight" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">

    <!-- Add class .modal-side and then add class .modal-top-right (or other classes from list above) to set a position to the modal -->
    <div class="modal-dialog modal-side modal-bottom-right" role="document">
      <div class="modal-content">
        <div class="modal-header" align="middle"
          style="color:white;background-color: #7f53ac;background-image: linear-gradient(315deg, #7f53ac 0%, #647dee 74%);">
          <h4 class="modal-title w-100" id="myModalLabel">A4BOT</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div id="mod" class="modal-body"
          style="overflow-y: scroll;height: 500px;background-color: #2d3436;background-image: linear-gradient(315deg, #2d3436 0%, #000000 74%);">
          <div align="left">
            <p class="speech-bubble btn-primary">Hello {{User}}</p>
            <p class="speech-bubble btn-primary">Welcome to Aforesight A4BOT..!</p>
            <p class="speech-bubble btn-primary" style="height: 45%;">
              Please select desired optionâ€¦
              <br>
              <br>
              <button class="btn btn-secondary" onclick="newrequest()">New Request</button>
              <br>
              <button class="btn btn-secondary" onclick="knowticket()">Know about your IT Ticket</button>
              <br>
              <button class="btn btn-secondary" onclick="newquery()">New Queries</button>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    //chatbot script
    function newrequest() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>New Request</p></div>";
      $("#mod").append(html);
      $.get("/newrequest").done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        html = "<br><div align='left'><p class='speech-bubble btn btn-secondary' style='padding-right: 3%;' onclick='confirmnewreq()'>Confirm</p><p class='speech-bubble btn btn-secondary' style='padding-right: 3%;' onclick='nonewreq()'>No</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      });

    }
    function nonewreq() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Not Confirmed</p></div>";
      $("#mod").append(html);
      $.get("/confirmnew", { con1: 'no' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      });
    }
    function confirmnewreq() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Confirmed</p></div>";
      $("#mod").append(html);
      $.get("/confirmnew", { con1: 'confirm' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      });
    }
    function sft2install() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Software Install</p></div>";
      $("#mod").append(html);
      $.get("/confirmnew", { con1: 'sftcon' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function msoffice() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>MS Office</p></div>";
      $("#mod").append(html);
      $.get("/confirmnew", { con1: 'msoff' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function conms() {
      text = document.getElementById('textms').value;
      $.get("/confirmnew", { con1: 'conms', text: text }).done(function (data) {
        console.log(data);
        html = "<br><div align='right'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function otherssft() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Others</p></div>";
      $("#mod").append(html);
      $.get("/confirmnew", { con1: 'other' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        html = "<br><div align='left'><div class='md-form' style='color:white;'><textarea id='textother' class='form-control md-textarea' length='120' rows='3' style='width:70%;color:white;' placeholder='Description'></textarea></div></div>";
        $("#mod").append(html);
        html = "<button class='btn btn-secondary' onclick='conmsother()'>Confirm</button>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function conmsother() {
      text = document.getElementById('textother').value;
      $.get("/confirmnew", { con1: 'othercon', text: text }).done(function (data) {
        html = "<br><div align='right'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function sysrelated() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>System Related</p></div>";
      $("#mod").append(html);
      $.get("/sysrelated", { con1: 'sysrelated' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function forgetpsw() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Forget Password</p></div>";
      $("#mod").append(html);
      $.get("/sysrelated", { con1: 'psw' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function new_pass() {
      ps1 = document.getElementById('password1').value;
      ps2 = document.getElementById('password2').value;
      ps1_new = document.getElementById('password1');
      var check = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/;
      if (ps1_new.value.match(check)) {
        if (ps1 == ps2) {
          html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Password Changed Successfully.</div>";
          $("#mod").append(html);
          $('#mod').scrollTop($('#mod')[0].scrollHeight);
        }
        else {
          html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Password Does Not Match.</div>";
          $("#mod").append(html);
          $('#mod').scrollTop($('#mod')[0].scrollHeight);
        }
      }
      else {
        html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;height: 22%;'>Wrong Format Used \nPassword should be of 7-15 in length and must contains : \n* 1 UPPERCASE\n* 1 lowercase\n* 1 digit\n* 1 special character</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      }
    }
    // disk clean up trigger
    function performance() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Proceeding</p></div>";
      $("#mod").append(html);
      $('#mod').scrollTop($('#mod')[0].scrollHeight);
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;height: 10%;'>Creating new ticket wait for 2 minutes approx.</p></div>";
      $("#mod").append(html);
      $('#mod').scrollTop($('#mod')[0].scrollHeight);
      setTimeout(function () {
        html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;height: 10%;'>Automation would be starting in 2-3 seconds</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      }, 15000);
      $.get("/diskclean").done(function (data) {
        html = "<br><div align='left'><p class='speech-bubble btn-primary' style='padding-left: 3%;'>" + data + "</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function disk() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Proceeding</p></div>";
      $("#mod").append(html);
      $('#mod').scrollTop($('#mod')[0].scrollHeight);
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;height: 10%;'>Creating new ticket wait for 2 minutes approx.</p></div>";
      $("#mod").append(html);
      $('#mod').scrollTop($('#mod')[0].scrollHeight);
      setTimeout(function () {
        html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;height: 10%;'>Automation would be starting in 2-3 seconds</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      }, 15000);
      $.get("/diskclean").done(function (data) {
        html = "<br><div align='left'><p class='speech-bubble btn-primary' style='padding-left: 3%;'>" + data + "</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function apprelated() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Application Related</p></div>";
      $("#mod").append(html);
      $('#mod').scrollTop($('#mod')[0].scrollHeight);
      $.get("/apprelated", { con1: 'apprelated' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    // email coonfiguration setup
    function emailconf() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Email Configuration</p></div>";
      $("#mod").append(html);
      $.get("/apprelated", { con1: 'email' }).done(function (data) {
        html = "<br><div align='left'><p class='speech-bubble btn-primary' style='padding-left: 3%;'>" + data + "</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function email_reg() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Proceeding</p></div>";
      $("#mod").append(html);
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;height: 10%;'>Creating new ticket wait for 2 minutes approx.</p></div>";
      $("#mod").append(html);
      setTimeout(function () {
        html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;height: 10%;'>Automation would be starting in 2-3 seconds</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      }, 15000);
      username = document.getElementById('username').value;
      email_s = document.getElementById('useremail').value;
      password_s = document.getElementById('password').value;
      $.get("/emailconfig", { username: username, email_s: email_s, password_s: password_s }).done(function (data) {
        html = "<br><div align='left'><p class='speech-bubble btn-primary' style='padding-left: 3%;'>" + data + "</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function osrelated() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>OS Related</p></div>";
      $("#mod").append(html);
      $.get("/osrelated", { con1: 'osrelated' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function printerrelated() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Printer Related</p></div>";
      $("#mod").append(html);
      $.get("/printerrelated", { con1: 'printerrelated' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function newprinter() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Proceeding</p></div>";
      $("#mod").append(html);
      $.get("/printerrelated", { con1: 'newprinter' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      });
    }
    function new_print() {
      manuname = document.getElementById('manuname').value;
      model = document.getElementById('model').value;
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Proceeding</p></div>";
      $("#mod").append(html);
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;height: 10%;'>Creating new ticket wait for 2 minutes approx.</p></div>";
      $("#mod").append(html);
      setTimeout(function () {
        html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;height: 10%;'>Automation would be starting in 2-3 seconds</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      }, 15000);
      $.get("/pr", { manuname: manuname, model: model }).done(function (data) {
        html = "<br><div align='left'><p class='speech-bubble btn-primary' style='padding-left: 3%;'>" + data + "</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      });
    }
    function networkrelated() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Network Related</p></div>";
      $("#mod").append(html);
      $.get("/networkrelated", { con1: 'networkrelated' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    function knowticket() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Know about your IT ticket</p></div>";
      $("#mod").append(html);
      $.get("/knowticket", { con1: 'newr' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        html = "<br><div align='left'><p class='speech-bubble btn btn-secondary' style='padding-right: 3%;' onclick='confirmknow()'>Confirm</p><p class='speech-bubble btn btn-secondary' style='padding-right: 3%;' onclick='nonewreq()'>No</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      });
    }
    function confirmknow() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Know about your IT ticket</p></div>";
      $("#mod").append(html);
      $.get("/knowticket", { con1: 'know' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        html = "<br><div align='right'><input type='text' id='tid' class='form-control' style='width: 70%;'><br><button type='button' class='btn btn-primary' onclick='proceedknow()'>Proceed</button></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      });
    }
    function proceedknow() {
      tid = document.getElementById('tid').value;
      $.get("/knowticket", { con1: 'proceed', id: tid }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'><p class='speech-bubble btn-primary' style='padding-left: 3%;height: 17%;'>" + data + "</p></div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      })
    }
    // new query
    function newquery() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>New Query</p></div>";
      $("#mod").append(html);
      $.get("/newquery", { con1: 'newq' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      });
    }
    function asset() {
      html = "<br><div align='right'><p class='speech-bubble btn-light' style='padding-right: 3%;'>Know Your IT Asset</p></div>";
      $("#mod").append(html);
      $.get("/newquery", { con1: 'asset' }).done(function (data) {
        console.log(data);
        html = "<br><div align='left'>" + data + "</div>";
        $("#mod").append(html);
        $('#mod').scrollTop($('#mod')[0].scrollHeight);
      });
    }
  </script>
</body>

</html>